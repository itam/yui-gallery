if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-sm-promise-events/gallery-sm-promise-events.js']) {
   __coverage__['build/gallery-sm-promise-events/gallery-sm-promise-events.js'] = {"path":"build/gallery-sm-promise-events/gallery-sm-promise-events.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":37},"end":{"line":1,"column":56}}},"2":{"name":"(anonymous_2)","line":23,"loc":{"start":{"line":23,"column":37},"end":{"line":23,"column":49}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":20},"end":{"line":35,"column":39}}},"4":{"name":"(anonymous_4)","line":45,"loc":{"start":{"line":45,"column":17},"end":{"line":45,"column":43}}},"5":{"name":"(anonymous_5)","line":57,"loc":{"start":{"line":57,"column":20},"end":{"line":57,"column":40}}},"6":{"name":"(anonymous_6)","line":58,"loc":{"start":{"line":58,"column":15},"end":{"line":58,"column":35}}},"7":{"name":"(anonymous_7)","line":81,"loc":{"start":{"line":81,"column":15},"end":{"line":81,"column":34}}},"8":{"name":"(anonymous_8)","line":100,"loc":{"start":{"line":100,"column":10},"end":{"line":100,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":151,"column":43}},"2":{"start":{"line":14,"column":0},"end":{"line":16,"column":13}},"3":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}},"4":{"start":{"line":24,"column":4},"end":{"line":24,"column":23}},"5":{"start":{"line":35,"column":0},"end":{"line":68,"column":2}},"6":{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},"7":{"start":{"line":37,"column":8},"end":{"line":37,"column":23}},"8":{"start":{"line":40,"column":4},"end":{"line":43,"column":6}},"9":{"start":{"line":45,"column":4},"end":{"line":55,"column":6}},"10":{"start":{"line":46,"column":8},"end":{"line":52,"column":9}},"11":{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},"12":{"start":{"line":48,"column":16},"end":{"line":48,"column":46}},"13":{"start":{"line":51,"column":12},"end":{"line":51,"column":52}},"14":{"start":{"line":54,"column":8},"end":{"line":54,"column":23}},"15":{"start":{"line":57,"column":4},"end":{"line":65,"column":21}},"16":{"start":{"line":58,"column":8},"end":{"line":64,"column":10}},"17":{"start":{"line":59,"column":12},"end":{"line":59,"column":73}},"18":{"start":{"line":61,"column":12},"end":{"line":61,"column":43}},"19":{"start":{"line":63,"column":12},"end":{"line":63,"column":25}},"20":{"start":{"line":67,"column":4},"end":{"line":67,"column":19}},"21":{"start":{"line":70,"column":0},"end":{"line":148,"column":3}},"22":{"start":{"line":82,"column":8},"end":{"line":82,"column":36}},"23":{"start":{"line":84,"column":8},"end":{"line":84,"column":42}},"24":{"start":{"line":101,"column":8},"end":{"line":106,"column":34}},"25":{"start":{"line":111,"column":8},"end":{"line":123,"column":9}},"26":{"start":{"line":114,"column":12},"end":{"line":122,"column":13}},"27":{"start":{"line":115,"column":16},"end":{"line":115,"column":43}},"28":{"start":{"line":117,"column":16},"end":{"line":121,"column":17}},"29":{"start":{"line":118,"column":20},"end":{"line":118,"column":36}},"30":{"start":{"line":120,"column":20},"end":{"line":120,"column":74}},"31":{"start":{"line":125,"column":8},"end":{"line":125,"column":22}},"32":{"start":{"line":127,"column":8},"end":{"line":129,"column":9}},"33":{"start":{"line":128,"column":12},"end":{"line":128,"column":52}},"34":{"start":{"line":131,"column":8},"end":{"line":144,"column":9}},"35":{"start":{"line":132,"column":12},"end":{"line":132,"column":32}},"36":{"start":{"line":133,"column":12},"end":{"line":133,"column":70}},"37":{"start":{"line":135,"column":12},"end":{"line":143,"column":13}},"38":{"start":{"line":136,"column":16},"end":{"line":142,"column":17}},"39":{"start":{"line":141,"column":20},"end":{"line":141,"column":53}},"40":{"start":{"line":146,"column":8},"end":{"line":146,"column":20}}},"branchMap":{"1":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":4}},{"start":{"line":36,"column":4},"end":{"line":36,"column":4}}]},"2":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"3":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":12},"end":{"line":46,"column":16}},{"start":{"line":46,"column":20},"end":{"line":46,"column":28}}]},"4":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":47,"column":12}},{"start":{"line":47,"column":12},"end":{"line":47,"column":12}}]},"5":{"line":103,"type":"cond-expr","locations":[{"start":{"line":104,"column":24},"end":{"line":104,"column":40}},{"start":{"line":104,"column":43},"end":{"line":104,"column":45}}]},"6":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":23},"end":{"line":103,"column":30}},{"start":{"line":103,"column":34},"end":{"line":103,"column":57}}]},"7":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":12},"end":{"line":114,"column":12}},{"start":{"line":114,"column":12},"end":{"line":114,"column":12}}]},"8":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":16},"end":{"line":117,"column":16}},{"start":{"line":117,"column":16},"end":{"line":117,"column":16}}]},"9":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":8},"end":{"line":127,"column":8}},{"start":{"line":127,"column":8},"end":{"line":127,"column":8}}]},"10":{"line":133,"type":"binary-expr","locations":[{"start":{"line":133,"column":21},"end":{"line":133,"column":27}},{"start":{"line":133,"column":31},"end":{"line":133,"column":43}},{"start":{"line":133,"column":46},"end":{"line":133,"column":69}}]},"11":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":12},"end":{"line":135,"column":12}},{"start":{"line":135,"column":12},"end":{"line":135,"column":12}}]}},"code":["(function () { YUI.add('gallery-sm-promise-events', function (Y, NAME) {","","\"use strict\";","/**","Provides a `Y.Promise.EventNotifier` class. Instances can be used to decorate","`Y.Promise` instances with an `on()` method to allow for non-resolution related","event notifications such as cancelation or progress. Additionally, the","promise's `then` method is \"infected\" to propagate the mixin to its returned","promises as well, allowing notifications to cascade throughout a promise chain.","","@module gallery-sm-promise-events","@since @@SINCE@@","**/","var isObject   = Y.Lang.isObject,","    toArray    = Y.Array,","    Notifier;","","/**","@namespace Promise","@class EventNotifier","@constructor","**/","Notifier = Y.Promise.EventNotifier = function () {","    this._targets = [];","};","","/**","Decorate a Promise with an `on` method and make its `then` method propagate","event support to its generated child promises.","","@method decorate","@param {Promise} promise the Promise to add event support to","@static","**/","Notifier.decorate = function (promise) {","    if (promise._evts) {","        return promise;","    }","","    promise._evts = {","        subs   : {},","        targets: []","    };","","    promise.on = function (type, callback) {","        if (type && callback) {","            if (!promise._evts.subs[type]) {","                promise._evts.subs[type] = [];","            }","","            promise._evts.subs[type].push(callback);","        }","","        return promise;","    };","","    promise.then = (function (original) {","        return function (ok, fail) {","            var child = Notifier.decorate(original.call(this, ok, fail));","","            this._evts.targets.push(child);","","            return child;","        };","    })(promise.then);","","    return promise;","};","","Y.mix(Notifier.prototype, {","    /**","    Decorate a promise and register it and its kin as targets for notifications","    from this instance.","","    Returns the input promise.","","    @method addEvents","    @param {Promise} promise The Promise to add event support to","    @return {Promise}","    **/","    addEvents: function (promise) {","        this._targets.push(promise);","","        return Notifier.decorate(promise);","    },","","    /**","    Notify registered Promises and their children of an event. Subscription","    callbacks will be passed an object with a `type` property. If additional","    parameters are passed to `fire`, a `details` property will be added with","    thos parameters in an array. If the second parameter is an object, it will","    be shallow-copied onto the event object.","","    @method fire","    @param {String} type The name of the event to notify subscribers of","    @param {Any*} [details*] Any additional details to include in `e.details`","    @return {Promise.EventNotifier} this instance","    @chainable","    **/","    fire: function (type, details) {","        var targets = this._targets.slice(),","            known   = {},","            e       = (details && isObject(details, true)) ?","                        Y.merge(details) : {},","            target, subs,","            i, len, j, jlen, guid;","","        // Breadth-first notification order, mimicking resolution order","        // Note: Not caching a length comparator because this pushes to the end","        // of the targets array as it iterates.","        for (i = 0; i < targets.length; ++i) {","            // Not that this should ever happen, but don't push known promise","            // targets onto the list again. That would make for an infinite loop","            if (targets[i]._evts) {","                guid = Y.stamp(targets[i]);","","                if (!known[guid]) {","                    known[guid] = 1;","","                    targets.push.apply(targets, targets[i]._evts.targets);","                }","            }","        }","","        e.type = type;","","        if (arguments.length > 1) {","            e.details = toArray(arguments, 1, true);","        }","","        for (i = 0, len = targets.length; i < len; ++i) {","            target = targets[i];","            subs   = target && target._evts &&target._evts.subs[type];","","            if (subs) {","                for (j = 0, jlen = subs.length; j < jlen; ++j) {","                    // Force async to mimic resolution lifecycle, and each","                    // callback in its own event loop turn to avoid swallowing","                    // errors and errors breaking the current js thread.","                    // TODO: would synchronous notifications be better?","                    Y.soon(Y.bind(subs[j], null, e));","                }","            }","        }","","        return this;","    }","});","","","}, '@VERSION@', {\"requires\": [\"promise\"]});","","}());"]};
}
var __cov_9Bu6Z0qxk5f8uS$5waWDow = __coverage__['build/gallery-sm-promise-events/gallery-sm-promise-events.js'];
__cov_9Bu6Z0qxk5f8uS$5waWDow.s['1']++;YUI.add('gallery-sm-promise-events',function(Y,NAME){'use strict';__cov_9Bu6Z0qxk5f8uS$5waWDow.f['1']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['2']++;var isObject=Y.Lang.isObject,toArray=Y.Array,Notifier;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['3']++;Notifier=Y.Promise.EventNotifier=function(){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['2']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['4']++;this._targets=[];};__cov_9Bu6Z0qxk5f8uS$5waWDow.s['5']++;Notifier.decorate=function(promise){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['3']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['6']++;if(promise._evts){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['1'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['7']++;return promise;}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['1'][1]++;}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['8']++;promise._evts={subs:{},targets:[]};__cov_9Bu6Z0qxk5f8uS$5waWDow.s['9']++;promise.on=function(type,callback){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['4']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['10']++;if((__cov_9Bu6Z0qxk5f8uS$5waWDow.b['3'][0]++,type)&&(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['3'][1]++,callback)){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['2'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['11']++;if(!promise._evts.subs[type]){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['4'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['12']++;promise._evts.subs[type]=[];}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['4'][1]++;}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['13']++;promise._evts.subs[type].push(callback);}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['2'][1]++;}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['14']++;return promise;};__cov_9Bu6Z0qxk5f8uS$5waWDow.s['15']++;promise.then=function(original){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['5']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['16']++;return function(ok,fail){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['6']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['17']++;var child=Notifier.decorate(original.call(this,ok,fail));__cov_9Bu6Z0qxk5f8uS$5waWDow.s['18']++;this._evts.targets.push(child);__cov_9Bu6Z0qxk5f8uS$5waWDow.s['19']++;return child;};}(promise.then);__cov_9Bu6Z0qxk5f8uS$5waWDow.s['20']++;return promise;};__cov_9Bu6Z0qxk5f8uS$5waWDow.s['21']++;Y.mix(Notifier.prototype,{addEvents:function(promise){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['7']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['22']++;this._targets.push(promise);__cov_9Bu6Z0qxk5f8uS$5waWDow.s['23']++;return Notifier.decorate(promise);},fire:function(type,details){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['8']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['24']++;var targets=this._targets.slice(),known={},e=(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['6'][0]++,details)&&(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['6'][1]++,isObject(details,true))?(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['5'][0]++,Y.merge(details)):(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['5'][1]++,{}),target,subs,i,len,j,jlen,guid;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['25']++;for(i=0;i<targets.length;++i){__cov_9Bu6Z0qxk5f8uS$5waWDow.s['26']++;if(targets[i]._evts){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['7'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['27']++;guid=Y.stamp(targets[i]);__cov_9Bu6Z0qxk5f8uS$5waWDow.s['28']++;if(!known[guid]){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['8'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['29']++;known[guid]=1;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['30']++;targets.push.apply(targets,targets[i]._evts.targets);}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['8'][1]++;}}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['7'][1]++;}}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['31']++;e.type=type;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['32']++;if(arguments.length>1){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['9'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['33']++;e.details=toArray(arguments,1,true);}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['9'][1]++;}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['34']++;for(i=0,len=targets.length;i<len;++i){__cov_9Bu6Z0qxk5f8uS$5waWDow.s['35']++;target=targets[i];__cov_9Bu6Z0qxk5f8uS$5waWDow.s['36']++;subs=(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['10'][0]++,target)&&(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['10'][1]++,target._evts)&&(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['10'][2]++,target._evts.subs[type]);__cov_9Bu6Z0qxk5f8uS$5waWDow.s['37']++;if(subs){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['11'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['38']++;for(j=0,jlen=subs.length;j<jlen;++j){__cov_9Bu6Z0qxk5f8uS$5waWDow.s['39']++;Y.soon(Y.bind(subs[j],null,e));}}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['11'][1]++;}}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['40']++;return this;}});},'@VERSION@',{'requires':['promise']});

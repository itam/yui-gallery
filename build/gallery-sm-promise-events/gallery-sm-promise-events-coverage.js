if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-sm-promise-events/gallery-sm-promise-events.js']) {
   __coverage__['build/gallery-sm-promise-events/gallery-sm-promise-events.js'] = {"path":"build/gallery-sm-promise-events/gallery-sm-promise-events.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":37},"end":{"line":1,"column":56}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":37},"end":{"line":22,"column":49}}},"3":{"name":"(anonymous_3)","line":34,"loc":{"start":{"line":34,"column":20},"end":{"line":34,"column":39}}},"4":{"name":"(anonymous_4)","line":44,"loc":{"start":{"line":44,"column":17},"end":{"line":44,"column":43}}},"5":{"name":"(anonymous_5)","line":56,"loc":{"start":{"line":56,"column":20},"end":{"line":56,"column":40}}},"6":{"name":"(anonymous_6)","line":57,"loc":{"start":{"line":57,"column":15},"end":{"line":57,"column":35}}},"7":{"name":"(anonymous_7)","line":80,"loc":{"start":{"line":80,"column":15},"end":{"line":80,"column":34}}},"8":{"name":"(anonymous_8)","line":96,"loc":{"start":{"line":96,"column":10},"end":{"line":96,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":159,"column":43}},"2":{"start":{"line":14,"column":0},"end":{"line":15,"column":13}},"3":{"start":{"line":22,"column":0},"end":{"line":24,"column":2}},"4":{"start":{"line":23,"column":4},"end":{"line":23,"column":23}},"5":{"start":{"line":34,"column":0},"end":{"line":67,"column":2}},"6":{"start":{"line":35,"column":4},"end":{"line":37,"column":5}},"7":{"start":{"line":36,"column":8},"end":{"line":36,"column":23}},"8":{"start":{"line":39,"column":4},"end":{"line":42,"column":6}},"9":{"start":{"line":44,"column":4},"end":{"line":54,"column":6}},"10":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"11":{"start":{"line":46,"column":12},"end":{"line":48,"column":13}},"12":{"start":{"line":47,"column":16},"end":{"line":47,"column":46}},"13":{"start":{"line":50,"column":12},"end":{"line":50,"column":52}},"14":{"start":{"line":53,"column":8},"end":{"line":53,"column":23}},"15":{"start":{"line":56,"column":4},"end":{"line":64,"column":21}},"16":{"start":{"line":57,"column":8},"end":{"line":63,"column":10}},"17":{"start":{"line":58,"column":12},"end":{"line":58,"column":73}},"18":{"start":{"line":60,"column":12},"end":{"line":60,"column":43}},"19":{"start":{"line":62,"column":12},"end":{"line":62,"column":25}},"20":{"start":{"line":66,"column":4},"end":{"line":66,"column":19}},"21":{"start":{"line":69,"column":0},"end":{"line":156,"column":3}},"22":{"start":{"line":81,"column":8},"end":{"line":81,"column":36}},"23":{"start":{"line":83,"column":8},"end":{"line":83,"column":42}},"24":{"start":{"line":97,"column":8},"end":{"line":101,"column":39}},"25":{"start":{"line":106,"column":8},"end":{"line":108,"column":9}},"26":{"start":{"line":107,"column":12},"end":{"line":107,"column":37}},"27":{"start":{"line":113,"column":8},"end":{"line":152,"column":9}},"28":{"start":{"line":114,"column":12},"end":{"line":114,"column":32}},"29":{"start":{"line":116,"column":12},"end":{"line":151,"column":13}},"30":{"start":{"line":120,"column":16},"end":{"line":120,"column":43}},"31":{"start":{"line":122,"column":16},"end":{"line":124,"column":17}},"32":{"start":{"line":123,"column":20},"end":{"line":123,"column":29}},"33":{"start":{"line":126,"column":16},"end":{"line":126,"column":32}},"34":{"start":{"line":129,"column":16},"end":{"line":129,"column":70}},"35":{"start":{"line":132,"column":16},"end":{"line":132,"column":47}},"36":{"start":{"line":134,"column":16},"end":{"line":150,"column":17}},"37":{"start":{"line":135,"column":20},"end":{"line":149,"column":21}},"38":{"start":{"line":136,"column":24},"end":{"line":136,"column":43}},"39":{"start":{"line":138,"column":24},"end":{"line":141,"column":25}},"40":{"start":{"line":139,"column":28},"end":{"line":139,"column":48}},"41":{"start":{"line":140,"column":28},"end":{"line":140,"column":61}},"42":{"start":{"line":148,"column":24},"end":{"line":148,"column":41}},"43":{"start":{"line":154,"column":8},"end":{"line":154,"column":20}}},"branchMap":{"1":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"2":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]},"3":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":12},"end":{"line":45,"column":16}},{"start":{"line":45,"column":20},"end":{"line":45,"column":28}}]},"4":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":12},"end":{"line":46,"column":12}},{"start":{"line":46,"column":12},"end":{"line":46,"column":12}}]},"5":{"line":99,"type":"binary-expr","locations":[{"start":{"line":99,"column":22},"end":{"line":99,"column":42}},{"start":{"line":99,"column":46},"end":{"line":99,"column":73}}]},"6":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":8},"end":{"line":106,"column":8}},{"start":{"line":106,"column":8},"end":{"line":106,"column":8}}]},"7":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":12},"end":{"line":116,"column":12}},{"start":{"line":116,"column":12},"end":{"line":116,"column":12}}]},"8":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":16},"end":{"line":122,"column":16}},{"start":{"line":122,"column":16},"end":{"line":122,"column":16}}]},"9":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":16},"end":{"line":134,"column":16}},{"start":{"line":134,"column":16},"end":{"line":134,"column":16}}]},"10":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":24},"end":{"line":138,"column":24}},{"start":{"line":138,"column":24},"end":{"line":138,"column":24}}]}},"code":["(function () { YUI.add('gallery-sm-promise-events', function (Y, NAME) {","","\"use strict\";","/**","Provides a `Y.Promise.EventNotifier` class. Instances can be used to decorate","`Y.Promise` instances with an `on()` method to allow for non-resolution related","event notifications such as cancelation or progress. Additionally, the","promise's `then` method is \"infected\" to propagate the mixin to its returned","promises as well, allowing notifications to cascade throughout a promise chain.","","@module gallery-sm-promise-events","@since @@SINCE@@","**/","var toArray    = Y.Array,","    Notifier;","","/**","@namespace Promise","@class EventNotifier","@constructor","**/","Notifier = Y.Promise.EventNotifier = function () {","    this._targets = [];","};","","/**","Decorate a Promise with an `on` method and make its `then` method propagate","event support to its generated child promises.","","@method decorate","@param {Promise} promise the Promise to add event support to","@static","**/","Notifier.decorate = function (promise) {","    if (promise._evts) {","        return promise;","    }","","    promise._evts = {","        subs   : {},","        targets: []","    };","","    promise.on = function (type, callback) {","        if (type && callback) {","            if (!promise._evts.subs[type]) {","                promise._evts.subs[type] = [];","            }","","            promise._evts.subs[type].push(callback);","        }","","        return promise;","    };","","    promise.then = (function (original) {","        return function (ok, fail) {","            var child = Notifier.decorate(original.call(this, ok, fail));","","            this._evts.targets.push(child);","","            return child;","        };","    })(promise.then);","","    return promise;","};","","Y.mix(Notifier.prototype, {","    /**","    Decorate a promise and register it and its kin as targets for notifications","    from this instance.","","    Returns the input promise.","","    @method addEvents","    @param {Promise} promise The Promise to add event support to","    @return {Promise}","    **/","    addEvents: function (promise) {","        this._targets.push(promise);","","        return Notifier.decorate(promise);","    },","","    /**","    Notify registered Promises and their children of an event. Subscription","    callbacks will be passed additional _args_ parameters.","","    @method fire","    @param {String} type The name of the event to notify subscribers of","    @param {Any*} [args*] Arguments to pass to the callbacks","    @return {Promise.EventNotifier} this instance","    @chainable","    **/","    fire: function (type) {","        var targets = this._targets.slice(),","            known   = {},","            args    = arguments.length > 1 && toArray(arguments, 1, true),","            target, subs,","            i, j, jlen, guid, callback;","","        // Add index 0 and 1 entries for use in Y.bind.apply(Y, args) below.","        // Index 0 will be set to the callback, and index 1 will be left as null","        // resulting in Y.bind.apply(Y, [callback, null, arg0,...argN])","        if (args) {","            args.unshift(null, null);","        }","","        // Breadth-first notification order, mimicking resolution order","        // Note: Not caching a length comparator because this pushes to the end","        // of the targets array as it iterates.","        for (i = 0; i < targets.length; ++i) {","            target = targets[i];","","            if (targets[i]._evts) {","                // Not that this should ever happen, but don't push known","                // promise targets onto the list again. That would make for an","                // infinite loop","                guid = Y.stamp(targets[i]);","","                if (known[guid]) {","                    continue;","                }","","                known[guid] = 1;","","                // Queue any child promises to get notified","                targets.push.apply(targets, targets[i]._evts.targets);","","                // Notify subscribers","                subs = target._evts.subs[type];","","                if (subs) {","                    for (j = 0, jlen = subs.length; j < jlen; ++j) {","                        callback = subs[j];","","                        if (args) {","                            args[0]  = callback;","                            callback = Y.bind.apply(Y, args);","                        }","","                        // Force async to mimic resolution lifecycle, and","                        // each callback in its own event loop turn to","                        // avoid swallowing errors and errors breaking the","                        // current js thread.","                        // TODO: would synchronous notifications be better?","                        Y.soon(callback);","                    }","                }","            }","        }","","        return this;","    }","});","","","}, '@VERSION@', {\"requires\": [\"promise\"]});","","}());"]};
}
var __cov_9Bu6Z0qxk5f8uS$5waWDow = __coverage__['build/gallery-sm-promise-events/gallery-sm-promise-events.js'];
__cov_9Bu6Z0qxk5f8uS$5waWDow.s['1']++;YUI.add('gallery-sm-promise-events',function(Y,NAME){'use strict';__cov_9Bu6Z0qxk5f8uS$5waWDow.f['1']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['2']++;var toArray=Y.Array,Notifier;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['3']++;Notifier=Y.Promise.EventNotifier=function(){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['2']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['4']++;this._targets=[];};__cov_9Bu6Z0qxk5f8uS$5waWDow.s['5']++;Notifier.decorate=function(promise){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['3']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['6']++;if(promise._evts){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['1'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['7']++;return promise;}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['1'][1]++;}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['8']++;promise._evts={subs:{},targets:[]};__cov_9Bu6Z0qxk5f8uS$5waWDow.s['9']++;promise.on=function(type,callback){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['4']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['10']++;if((__cov_9Bu6Z0qxk5f8uS$5waWDow.b['3'][0]++,type)&&(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['3'][1]++,callback)){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['2'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['11']++;if(!promise._evts.subs[type]){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['4'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['12']++;promise._evts.subs[type]=[];}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['4'][1]++;}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['13']++;promise._evts.subs[type].push(callback);}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['2'][1]++;}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['14']++;return promise;};__cov_9Bu6Z0qxk5f8uS$5waWDow.s['15']++;promise.then=function(original){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['5']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['16']++;return function(ok,fail){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['6']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['17']++;var child=Notifier.decorate(original.call(this,ok,fail));__cov_9Bu6Z0qxk5f8uS$5waWDow.s['18']++;this._evts.targets.push(child);__cov_9Bu6Z0qxk5f8uS$5waWDow.s['19']++;return child;};}(promise.then);__cov_9Bu6Z0qxk5f8uS$5waWDow.s['20']++;return promise;};__cov_9Bu6Z0qxk5f8uS$5waWDow.s['21']++;Y.mix(Notifier.prototype,{addEvents:function(promise){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['7']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['22']++;this._targets.push(promise);__cov_9Bu6Z0qxk5f8uS$5waWDow.s['23']++;return Notifier.decorate(promise);},fire:function(type){__cov_9Bu6Z0qxk5f8uS$5waWDow.f['8']++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['24']++;var targets=this._targets.slice(),known={},args=(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['5'][0]++,arguments.length>1)&&(__cov_9Bu6Z0qxk5f8uS$5waWDow.b['5'][1]++,toArray(arguments,1,true)),target,subs,i,j,jlen,guid,callback;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['25']++;if(args){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['6'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['26']++;args.unshift(null,null);}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['6'][1]++;}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['27']++;for(i=0;i<targets.length;++i){__cov_9Bu6Z0qxk5f8uS$5waWDow.s['28']++;target=targets[i];__cov_9Bu6Z0qxk5f8uS$5waWDow.s['29']++;if(targets[i]._evts){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['7'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['30']++;guid=Y.stamp(targets[i]);__cov_9Bu6Z0qxk5f8uS$5waWDow.s['31']++;if(known[guid]){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['8'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['32']++;continue;}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['8'][1]++;}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['33']++;known[guid]=1;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['34']++;targets.push.apply(targets,targets[i]._evts.targets);__cov_9Bu6Z0qxk5f8uS$5waWDow.s['35']++;subs=target._evts.subs[type];__cov_9Bu6Z0qxk5f8uS$5waWDow.s['36']++;if(subs){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['9'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['37']++;for(j=0,jlen=subs.length;j<jlen;++j){__cov_9Bu6Z0qxk5f8uS$5waWDow.s['38']++;callback=subs[j];__cov_9Bu6Z0qxk5f8uS$5waWDow.s['39']++;if(args){__cov_9Bu6Z0qxk5f8uS$5waWDow.b['10'][0]++;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['40']++;args[0]=callback;__cov_9Bu6Z0qxk5f8uS$5waWDow.s['41']++;callback=Y.bind.apply(Y,args);}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['10'][1]++;}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['42']++;Y.soon(callback);}}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['9'][1]++;}}else{__cov_9Bu6Z0qxk5f8uS$5waWDow.b['7'][1]++;}}__cov_9Bu6Z0qxk5f8uS$5waWDow.s['43']++;return this;}});},'@VERSION@',{'requires':['promise']});

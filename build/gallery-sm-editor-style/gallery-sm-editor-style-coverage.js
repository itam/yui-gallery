if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-sm-editor-style/gallery-sm-editor-style.js']) {
   __coverage__['build/gallery-sm-editor-style/gallery-sm-editor-style.js'] = {"path":"build/gallery-sm-editor-style/gallery-sm-editor-style.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":35},"end":{"line":1,"column":54}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":1},"end":{"line":33,"column":13}}},"3":{"name":"(anonymous_3)","line":177,"loc":{"start":{"line":177,"column":17},"end":{"line":177,"column":29}}},"4":{"name":"(anonymous_4)","line":207,"loc":{"start":{"line":207,"column":12},"end":{"line":207,"column":30}}},"5":{"name":"(anonymous_5)","line":241,"loc":{"start":{"line":241,"column":23},"end":{"line":241,"column":46}}},"6":{"name":"(anonymous_6)","line":292,"loc":{"start":{"line":292,"column":20},"end":{"line":292,"column":37}}},"7":{"name":"(anonymous_7)","line":314,"loc":{"start":{"line":314,"column":23},"end":{"line":314,"column":39}}},"8":{"name":"(anonymous_8)","line":355,"loc":{"start":{"line":355,"column":24},"end":{"line":355,"column":40}}},"9":{"name":"(anonymous_9)","line":365,"loc":{"start":{"line":365,"column":49},"end":{"line":365,"column":65}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":408,"column":3}},"2":{"start":{"line":33,"column":0},"end":{"line":396,"column":5}},"3":{"start":{"line":35,"column":0},"end":{"line":36,"column":32}},"4":{"start":{"line":38,"column":0},"end":{"line":392,"column":3}},"5":{"start":{"line":178,"column":8},"end":{"line":178,"column":67}},"6":{"start":{"line":180,"column":8},"end":{"line":184,"column":9}},"7":{"start":{"line":181,"column":12},"end":{"line":181,"column":55}},"8":{"start":{"line":183,"column":12},"end":{"line":183,"column":48}},"9":{"start":{"line":186,"column":8},"end":{"line":188,"column":9}},"10":{"start":{"line":187,"column":12},"end":{"line":187,"column":80}},"11":{"start":{"line":208,"column":8},"end":{"line":209,"column":17}},"12":{"start":{"line":211,"column":8},"end":{"line":225,"column":9}},"13":{"start":{"line":212,"column":12},"end":{"line":216,"column":13}},"14":{"start":{"line":213,"column":16},"end":{"line":215,"column":17}},"15":{"start":{"line":214,"column":20},"end":{"line":214,"column":69}},"16":{"start":{"line":218,"column":12},"end":{"line":218,"column":46}},"17":{"start":{"line":220,"column":12},"end":{"line":224,"column":13}},"18":{"start":{"line":221,"column":16},"end":{"line":223,"column":17}},"19":{"start":{"line":222,"column":20},"end":{"line":222,"column":53}},"20":{"start":{"line":227,"column":8},"end":{"line":227,"column":23}},"21":{"start":{"line":242,"column":8},"end":{"line":244,"column":30}},"22":{"start":{"line":246,"column":8},"end":{"line":248,"column":9}},"23":{"start":{"line":247,"column":12},"end":{"line":247,"column":19}},"24":{"start":{"line":250,"column":8},"end":{"line":254,"column":9}},"25":{"start":{"line":251,"column":12},"end":{"line":251,"column":63}},"26":{"start":{"line":253,"column":12},"end":{"line":253,"column":52}},"27":{"start":{"line":258,"column":8},"end":{"line":258,"column":71}},"28":{"start":{"line":260,"column":8},"end":{"line":270,"column":9}},"29":{"start":{"line":261,"column":12},"end":{"line":265,"column":13}},"30":{"start":{"line":262,"column":16},"end":{"line":262,"column":27}},"31":{"start":{"line":264,"column":16},"end":{"line":264,"column":44}},"32":{"start":{"line":266,"column":15},"end":{"line":270,"column":9}},"33":{"start":{"line":267,"column":12},"end":{"line":267,"column":49}},"34":{"start":{"line":269,"column":12},"end":{"line":269,"column":23}},"35":{"start":{"line":272,"column":8},"end":{"line":272,"column":59}},"36":{"start":{"line":274,"column":8},"end":{"line":279,"column":9}},"37":{"start":{"line":275,"column":12},"end":{"line":275,"column":48}},"38":{"start":{"line":276,"column":12},"end":{"line":276,"column":75}},"39":{"start":{"line":278,"column":12},"end":{"line":278,"column":50}},"40":{"start":{"line":293,"column":8},"end":{"line":293,"column":39}},"41":{"start":{"line":295,"column":8},"end":{"line":295,"column":23}},"42":{"start":{"line":298,"column":8},"end":{"line":298,"column":92}},"43":{"start":{"line":300,"column":8},"end":{"line":307,"column":9}},"44":{"start":{"line":301,"column":12},"end":{"line":304,"column":13}},"45":{"start":{"line":303,"column":16},"end":{"line":303,"column":51}},"46":{"start":{"line":306,"column":12},"end":{"line":306,"column":49}},"47":{"start":{"line":309,"column":8},"end":{"line":312,"column":42}},"48":{"start":{"line":314,"column":8},"end":{"line":340,"column":17}},"49":{"start":{"line":315,"column":12},"end":{"line":317,"column":13}},"50":{"start":{"line":316,"column":16},"end":{"line":316,"column":23}},"51":{"start":{"line":319,"column":12},"end":{"line":321,"column":13}},"52":{"start":{"line":320,"column":16},"end":{"line":320,"column":74}},"53":{"start":{"line":323,"column":12},"end":{"line":325,"column":13}},"54":{"start":{"line":324,"column":16},"end":{"line":324,"column":53}},"55":{"start":{"line":327,"column":12},"end":{"line":339,"column":13}},"56":{"start":{"line":328,"column":16},"end":{"line":330,"column":17}},"57":{"start":{"line":329,"column":20},"end":{"line":329,"column":80}},"58":{"start":{"line":332,"column":16},"end":{"line":334,"column":17}},"59":{"start":{"line":333,"column":20},"end":{"line":333,"column":61}},"60":{"start":{"line":336,"column":16},"end":{"line":336,"column":56}},"61":{"start":{"line":338,"column":16},"end":{"line":338,"column":72}},"62":{"start":{"line":342,"column":8},"end":{"line":342,"column":42}},"63":{"start":{"line":356,"column":8},"end":{"line":358,"column":50}},"64":{"start":{"line":360,"column":8},"end":{"line":388,"column":9}},"65":{"start":{"line":361,"column":12},"end":{"line":363,"column":13}},"66":{"start":{"line":362,"column":16},"end":{"line":362,"column":42}},"67":{"start":{"line":365,"column":12},"end":{"line":375,"column":15}},"68":{"start":{"line":366,"column":16},"end":{"line":366,"column":26}},"69":{"start":{"line":368,"column":16},"end":{"line":372,"column":17}},"70":{"start":{"line":369,"column":20},"end":{"line":369,"column":66}},"71":{"start":{"line":371,"column":20},"end":{"line":371,"column":69}},"72":{"start":{"line":374,"column":16},"end":{"line":374,"column":41}},"73":{"start":{"line":377,"column":12},"end":{"line":377,"column":44}},"74":{"start":{"line":379,"column":12},"end":{"line":381,"column":13}},"75":{"start":{"line":380,"column":16},"end":{"line":380,"column":34}},"76":{"start":{"line":383,"column":12},"end":{"line":387,"column":13}},"77":{"start":{"line":384,"column":16},"end":{"line":384,"column":55}},"78":{"start":{"line":385,"column":19},"end":{"line":387,"column":13}},"79":{"start":{"line":386,"column":16},"end":{"line":386,"column":29}},"80":{"start":{"line":390,"column":8},"end":{"line":390,"column":21}},"81":{"start":{"line":394,"column":0},"end":{"line":394,"column":42}}},"branchMap":{"1":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":8},"end":{"line":180,"column":8}},{"start":{"line":180,"column":8},"end":{"line":180,"column":8}}]},"2":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":8},"end":{"line":186,"column":8}},{"start":{"line":186,"column":8},"end":{"line":186,"column":8}}]},"3":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":8},"end":{"line":211,"column":8}},{"start":{"line":211,"column":8},"end":{"line":211,"column":8}}]},"4":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":16},"end":{"line":213,"column":16}},{"start":{"line":213,"column":16},"end":{"line":213,"column":16}}]},"5":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":16},"end":{"line":221,"column":16}},{"start":{"line":221,"column":16},"end":{"line":221,"column":16}}]},"6":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":8},"end":{"line":246,"column":8}},{"start":{"line":246,"column":8},"end":{"line":246,"column":8}}]},"7":{"line":246,"type":"binary-expr","locations":[{"start":{"line":246,"column":12},"end":{"line":246,"column":18}},{"start":{"line":246,"column":22},"end":{"line":246,"column":30}},{"start":{"line":246,"column":34},"end":{"line":246,"column":48}}]},"8":{"line":250,"type":"if","locations":[{"start":{"line":250,"column":8},"end":{"line":250,"column":8}},{"start":{"line":250,"column":8},"end":{"line":250,"column":8}}]},"9":{"line":260,"type":"if","locations":[{"start":{"line":260,"column":8},"end":{"line":260,"column":8}},{"start":{"line":260,"column":8},"end":{"line":260,"column":8}}]},"10":{"line":261,"type":"if","locations":[{"start":{"line":261,"column":12},"end":{"line":261,"column":12}},{"start":{"line":261,"column":12},"end":{"line":261,"column":12}}]},"11":{"line":261,"type":"binary-expr","locations":[{"start":{"line":261,"column":16},"end":{"line":261,"column":21}},{"start":{"line":261,"column":25},"end":{"line":261,"column":54}}]},"12":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":15},"end":{"line":266,"column":15}},{"start":{"line":266,"column":15},"end":{"line":266,"column":15}}]},"13":{"line":267,"type":"binary-expr","locations":[{"start":{"line":267,"column":20},"end":{"line":267,"column":39}},{"start":{"line":267,"column":43},"end":{"line":267,"column":48}}]},"14":{"line":274,"type":"if","locations":[{"start":{"line":274,"column":8},"end":{"line":274,"column":8}},{"start":{"line":274,"column":8},"end":{"line":274,"column":8}}]},"15":{"line":300,"type":"if","locations":[{"start":{"line":300,"column":8},"end":{"line":300,"column":8}},{"start":{"line":300,"column":8},"end":{"line":300,"column":8}}]},"16":{"line":301,"type":"if","locations":[{"start":{"line":301,"column":12},"end":{"line":301,"column":12}},{"start":{"line":301,"column":12},"end":{"line":301,"column":12}}]},"17":{"line":315,"type":"if","locations":[{"start":{"line":315,"column":12},"end":{"line":315,"column":12}},{"start":{"line":315,"column":12},"end":{"line":315,"column":12}}]},"18":{"line":319,"type":"if","locations":[{"start":{"line":319,"column":12},"end":{"line":319,"column":12}},{"start":{"line":319,"column":12},"end":{"line":319,"column":12}}]},"19":{"line":319,"type":"binary-expr","locations":[{"start":{"line":319,"column":16},"end":{"line":319,"column":32}},{"start":{"line":319,"column":36},"end":{"line":319,"column":73}}]},"20":{"line":323,"type":"if","locations":[{"start":{"line":323,"column":12},"end":{"line":323,"column":12}},{"start":{"line":323,"column":12},"end":{"line":323,"column":12}}]},"21":{"line":323,"type":"binary-expr","locations":[{"start":{"line":323,"column":16},"end":{"line":323,"column":34}},{"start":{"line":323,"column":38},"end":{"line":323,"column":49}}]},"22":{"line":327,"type":"if","locations":[{"start":{"line":327,"column":12},"end":{"line":327,"column":12}},{"start":{"line":327,"column":12},"end":{"line":327,"column":12}}]},"23":{"line":328,"type":"if","locations":[{"start":{"line":328,"column":16},"end":{"line":328,"column":16}},{"start":{"line":328,"column":16},"end":{"line":328,"column":16}}]},"24":{"line":332,"type":"if","locations":[{"start":{"line":332,"column":16},"end":{"line":332,"column":16}},{"start":{"line":332,"column":16},"end":{"line":332,"column":16}}]},"25":{"line":360,"type":"if","locations":[{"start":{"line":360,"column":8},"end":{"line":360,"column":8}},{"start":{"line":360,"column":8},"end":{"line":360,"column":8}}]},"26":{"line":360,"type":"binary-expr","locations":[{"start":{"line":360,"column":12},"end":{"line":360,"column":17}},{"start":{"line":360,"column":21},"end":{"line":360,"column":34}}]},"27":{"line":361,"type":"if","locations":[{"start":{"line":361,"column":12},"end":{"line":361,"column":12}},{"start":{"line":361,"column":12},"end":{"line":361,"column":12}}]},"28":{"line":368,"type":"if","locations":[{"start":{"line":368,"column":16},"end":{"line":368,"column":16}},{"start":{"line":368,"column":16},"end":{"line":368,"column":16}}]},"29":{"line":374,"type":"binary-expr","locations":[{"start":{"line":374,"column":28},"end":{"line":374,"column":33}},{"start":{"line":374,"column":37},"end":{"line":374,"column":39}}]},"30":{"line":379,"type":"if","locations":[{"start":{"line":379,"column":12},"end":{"line":379,"column":12}},{"start":{"line":379,"column":12},"end":{"line":379,"column":12}}]},"31":{"line":383,"type":"if","locations":[{"start":{"line":383,"column":12},"end":{"line":383,"column":12}},{"start":{"line":383,"column":12},"end":{"line":383,"column":12}}]},"32":{"line":385,"type":"if","locations":[{"start":{"line":385,"column":19},"end":{"line":385,"column":19}},{"start":{"line":385,"column":19},"end":{"line":385,"column":19}}]}},"code":["(function () { YUI.add('gallery-sm-editor-style', function (Y, NAME) {","","/*jshint expr:true, onevar:false */","","/**","Provides the `Editor.Style` extension.","","@module gallery-sm-editor","@submodule gallery-sm-editor-style","**/","","/**","Extension for `Editor.Base` that normalizes style commands into css properties","","Provides support for the following commands:","","- bold","- fontName","- fontSize","- italic","- justifyCenter","- justifyFull","- justifyLeft","- justifyRight","- strikeThrough","- underline","","@class Editor.Style","@extends Base","@extensionfor Editor.Base","**/","","(function () {","","var EDOM = Y.Editor.DOM,","    STYLENODE = '<span></span>';","","var EditorStyle = Y.Base.create('editorStyle', Y.Base, [], {","    // -- Public Properties ----------------------------------------------------","","    /**","    Hash of style commands supported by this editor.","","    Names should correspond with valid `execCommand()` command names. Values","    are properties in the following format:","","    @property {Object} styleCommands","        @param {Function|String} commandFn","        @param {Function|String} [queryFn]","        @param {Object} style","            @param {String} style.property The name of the CSS property in","            camelCase form","            @param {String} [style.value] For boolean commands, the `on` value","            of the property. eg. `bold`","    **/","    styleCommands: {","        /**","        @property {Object} styleCommands.bold","         */","        bold: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'fontWeight',","                value: 'bold'","            }","        },","","        fontName: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'fontFamily'","            }","        },","","        fontSize: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'fontSize'","            }","        },","","        italic: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'fontStyle',","                value: 'italic'","            }","        },","","        justifyCenter: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textAlign',","                value: 'center'","            },","            type: 'block'","        },","","        justifyFull: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textAlign',","                value: 'justify'","            },","            type: 'block'","        },","","        justifyLeft: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textAlign',","                value: ''","            },","            type: 'block'","        },","","        justifyRight: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textAlign',","                value: 'right'","            },","            type: 'block'","        },","","        strikeThrough: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textDecoration',","                value: 'line-through'","            }","        },","","        underline: {","            commandFn: '_execStyleCommand',","            queryFn: '_queryStyleCommand',","            style: {","                property: 'textDecoration',","                value: 'underline'","            }","        }","    },","","","    /**","    Key commands related to style functionality.","","    @property {Object} styleKeyCommands","    **/","    styleKeyCommands: {","        'ctrl+b': 'bold',","        'ctrl+i': 'italic',","        'ctrl+u': 'underline'","    },","","","    /**","    HTML tags supported by this editor. Unsupported tags will be treated","    as text","","    @property {String} supportedTags","    **/","    styleTags: 'span',","","","    // -- Lifecycle ------------------------------------------------------------","","    initializer: function () {","        this.commands = Y.merge(this.commands, this.styleCommands);","","        if (this.supportedTags) {","            this.supportedTags += ',' + this.styleTags;","        } else {","            this.supportedTags = this.styleTags;","        }","","        if (this.keyCommands) {","            this.keyCommands = Y.merge(this.keyCommands, this.styleKeyCommands);","        }","    },","","","    // -- Public Methods -------------------------------------------------------","","    /**","    Gets and/or sets the values of multiple editor style commands.","","    When called without an argument, the current values of all supported style","    commands will be returned. When called with a _styles_ object, the specified","    style commands will be set to their given values, and the resulting new","    values will be returned.","","    @method styles","    @param {Object} [styles] Hash of style names and values to set.","    @return {Object} Hash of style names and values that were set, or all styles","        if no _styles_ parameter was specified.","    **/","    styles: function (styles) {","        var results = {},","            name;","","        if (styles) {","            for (name in styles) {","                if (styles.hasOwnProperty(name)) {","                    results[name] = this.command(name, styles[name]);","                }","            }","        } else {","            var commands = this.styleCommands;","","            for (name in commands) {","                if (commands.hasOwnProperty(name)) {","                    results[name] = this.query(name);","                }","            }","        }","","        return results;","    },","","","    // -- Protected Methods ----------------------------------------------------","","    /**","    Executes a `style` command by adding/removing css properties","","    @method _execStyleCommand","    @param {String} name Command name.","    @param {Boolean|String} value Command value.","    @protected","    **/","    _execStyleCommand: function (name, value) {","        var command = this.commands[name],","            range = this.selection.range(),","            styleNodes, style;","","        if (!range || !command || !command.style) {","            return;","        }","","        if ('block' === command.type) {","            styleNodes = this._getNodes(range, this.blockTags);","        } else {","            styleNodes = this._getStyleNodes(range);","        }","","        // use the first node because blah blah","        // dont use getStyle blah blah","        style = styleNodes.item(0)._node.style[command.style.property];","","        if (Y.Lang.isValue(command.style.value)) {","            if (style && style === command.style.value) {","                style = '';","            } else {","                style = command.style.value;","            }","        } else if (value) {","            style = command.style.value || value;","        } else {","            style = '';","        }","","        styleNodes.setStyle(command.style.property, style);","","        if ('block' !== command.type) {","            range.startNode(styleNodes.item(0));","            range.endNode(styleNodes.item(styleNodes.size() - 1), 'after');","","            this.selection.select(range.shrink());","        }","    },","","","    /**","    Parses inline elements from a given range. Partially selected nodes will","    be split and text nodes will be wrapped in `<span>` tags if necessary.","","    @method _getStyleNodes","    @param {Range} range","    @return {NodeList} NodeList of inline elements within the given `range`","    @protected","    **/","    _getStyleNodes: function (range) {","        var styleNode, styleNodes = [];","","        range.shrink();","","        // see if the range is contained in an existing styleNode","        styleNode = range.parentNode().ancestor(this.styleTags, true, this.selectors.input);","","        if (styleNode) {","            if (range.toString() === styleNode.get('text')) {","                // the entire node is selected, just return the node","                return new Y.NodeList([styleNode]);","            }","        } else {","            styleNode = Y.Node.create(STYLENODE);","        }","","        var startNode = range.startNode(),","            startOffset = range.startOffset(),","            endNode = range.endNode(),","            endOffset = range.endOffset();","","        range.traverse(function (node) {","            if (!EDOM.isTextNode(node)) {","                return;","            }","","            if (endNode === node && endOffset !== EDOM.maxOffset(endNode)) {","                node = EDOM.split(node, endOffset).get('previousSibling');","            }","","            if (startNode === node && startOffset) {","                node = EDOM.split(node, startOffset);","            }","","            if (this._isStyleNode(node.get('parentNode'))) {","                if (node.get('nextSibling')) {","                    EDOM.split(node.get('parentNode'), node.get('nextSibling'));","                }","","                if (node.get('previousSibling')) {","                    EDOM.split(node.get('parentNode'), node);","                }","","                styleNodes.push(node.get('parentNode'));","            } else {","                styleNodes.push(node.wrap(styleNode).get('parentNode'));","            }","        }, this);","","        return new Y.NodeList(styleNodes);","    },","","","    /**","    Returns the value of a `style` command by querying css properties","","    @method _queryStyleCommand","    @param {String} name Command name.","    @return {Boolean|String} Boolean style commands will return true/false, other commands will","    return the property value, or null if the property doesn't exist.","    @protected","    **/","    _queryStyleCommand: function (name) {","        var command = this.commands[name],","            range = this.selection.range().clone(),","            selector = 'span', values = [], value;","","        if (range && command.style) {","            if ('block' === command.type) {","                selector = this.blockTags;","            }","","            this._getNodes(range, selector).each(function (node) {","                var value;","","                if (command.style.computed) {","                    value = node.getStyle(command.style.property);","                } else {","                    value = node._node.style[command.style.property];","                }","","                values.push(value || '');","            });","","            values = Y.Array.dedupe(values);","","            if (1 === values.length) {","                value = values[0];","            }","","            if (Y.Lang.isValue(command.style.value)) {","                value = (value == command.style.value);","            } else if ('' === value) {","                value = null;","            }","        }","","        return value;","    }","});","","Y.namespace('Editor').Style = EditorStyle;","","}());","","","}, '@VERSION@', {","    \"requires\": [","        \"base-build\",","        \"gallery-sm-editor-base\",","        \"gallery-sm-editor-dom\",","        \"gallery-sm-editor-keys\",","        \"node-base\",","        \"node-style\"","    ]","});","","}());"]};
}
var __cov_wmlF9lLOlWpDUCM9WemJFA = __coverage__['build/gallery-sm-editor-style/gallery-sm-editor-style.js'];
__cov_wmlF9lLOlWpDUCM9WemJFA.s['1']++;YUI.add('gallery-sm-editor-style',function(Y,NAME){__cov_wmlF9lLOlWpDUCM9WemJFA.f['1']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['2']++;(function(){__cov_wmlF9lLOlWpDUCM9WemJFA.f['2']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['3']++;var EDOM=Y.Editor.DOM,STYLENODE='<span></span>';__cov_wmlF9lLOlWpDUCM9WemJFA.s['4']++;var EditorStyle=Y.Base.create('editorStyle',Y.Base,[],{styleCommands:{bold:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'fontWeight',value:'bold'}},fontName:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'fontFamily'}},fontSize:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'fontSize'}},italic:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'fontStyle',value:'italic'}},justifyCenter:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textAlign',value:'center'},type:'block'},justifyFull:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textAlign',value:'justify'},type:'block'},justifyLeft:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textAlign',value:''},type:'block'},justifyRight:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textAlign',value:'right'},type:'block'},strikeThrough:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textDecoration',value:'line-through'}},underline:{commandFn:'_execStyleCommand',queryFn:'_queryStyleCommand',style:{property:'textDecoration',value:'underline'}}},styleKeyCommands:{'ctrl+b':'bold','ctrl+i':'italic','ctrl+u':'underline'},styleTags:'span',initializer:function(){__cov_wmlF9lLOlWpDUCM9WemJFA.f['3']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['5']++;this.commands=Y.merge(this.commands,this.styleCommands);__cov_wmlF9lLOlWpDUCM9WemJFA.s['6']++;if(this.supportedTags){__cov_wmlF9lLOlWpDUCM9WemJFA.b['1'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['7']++;this.supportedTags+=','+this.styleTags;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['1'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['8']++;this.supportedTags=this.styleTags;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['9']++;if(this.keyCommands){__cov_wmlF9lLOlWpDUCM9WemJFA.b['2'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['10']++;this.keyCommands=Y.merge(this.keyCommands,this.styleKeyCommands);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['2'][1]++;}},styles:function(styles){__cov_wmlF9lLOlWpDUCM9WemJFA.f['4']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['11']++;var results={},name;__cov_wmlF9lLOlWpDUCM9WemJFA.s['12']++;if(styles){__cov_wmlF9lLOlWpDUCM9WemJFA.b['3'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['13']++;for(name in styles){__cov_wmlF9lLOlWpDUCM9WemJFA.s['14']++;if(styles.hasOwnProperty(name)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['4'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['15']++;results[name]=this.command(name,styles[name]);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['4'][1]++;}}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['3'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['16']++;var commands=this.styleCommands;__cov_wmlF9lLOlWpDUCM9WemJFA.s['17']++;for(name in commands){__cov_wmlF9lLOlWpDUCM9WemJFA.s['18']++;if(commands.hasOwnProperty(name)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['5'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['19']++;results[name]=this.query(name);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['5'][1]++;}}}__cov_wmlF9lLOlWpDUCM9WemJFA.s['20']++;return results;},_execStyleCommand:function(name,value){__cov_wmlF9lLOlWpDUCM9WemJFA.f['5']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['21']++;var command=this.commands[name],range=this.selection.range(),styleNodes,style;__cov_wmlF9lLOlWpDUCM9WemJFA.s['22']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['7'][0]++,!range)||(__cov_wmlF9lLOlWpDUCM9WemJFA.b['7'][1]++,!command)||(__cov_wmlF9lLOlWpDUCM9WemJFA.b['7'][2]++,!command.style)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['6'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['23']++;return;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['6'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['24']++;if('block'===command.type){__cov_wmlF9lLOlWpDUCM9WemJFA.b['8'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['25']++;styleNodes=this._getNodes(range,this.blockTags);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['8'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['26']++;styleNodes=this._getStyleNodes(range);}__cov_wmlF9lLOlWpDUCM9WemJFA.s['27']++;style=styleNodes.item(0)._node.style[command.style.property];__cov_wmlF9lLOlWpDUCM9WemJFA.s['28']++;if(Y.Lang.isValue(command.style.value)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['9'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['29']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['11'][0]++,style)&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['11'][1]++,style===command.style.value)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['10'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['30']++;style='';}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['10'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['31']++;style=command.style.value;}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['9'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['32']++;if(value){__cov_wmlF9lLOlWpDUCM9WemJFA.b['12'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['33']++;style=(__cov_wmlF9lLOlWpDUCM9WemJFA.b['13'][0]++,command.style.value)||(__cov_wmlF9lLOlWpDUCM9WemJFA.b['13'][1]++,value);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['12'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['34']++;style='';}}__cov_wmlF9lLOlWpDUCM9WemJFA.s['35']++;styleNodes.setStyle(command.style.property,style);__cov_wmlF9lLOlWpDUCM9WemJFA.s['36']++;if('block'!==command.type){__cov_wmlF9lLOlWpDUCM9WemJFA.b['14'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['37']++;range.startNode(styleNodes.item(0));__cov_wmlF9lLOlWpDUCM9WemJFA.s['38']++;range.endNode(styleNodes.item(styleNodes.size()-1),'after');__cov_wmlF9lLOlWpDUCM9WemJFA.s['39']++;this.selection.select(range.shrink());}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['14'][1]++;}},_getStyleNodes:function(range){__cov_wmlF9lLOlWpDUCM9WemJFA.f['6']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['40']++;var styleNode,styleNodes=[];__cov_wmlF9lLOlWpDUCM9WemJFA.s['41']++;range.shrink();__cov_wmlF9lLOlWpDUCM9WemJFA.s['42']++;styleNode=range.parentNode().ancestor(this.styleTags,true,this.selectors.input);__cov_wmlF9lLOlWpDUCM9WemJFA.s['43']++;if(styleNode){__cov_wmlF9lLOlWpDUCM9WemJFA.b['15'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['44']++;if(range.toString()===styleNode.get('text')){__cov_wmlF9lLOlWpDUCM9WemJFA.b['16'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['45']++;return new Y.NodeList([styleNode]);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['16'][1]++;}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['15'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['46']++;styleNode=Y.Node.create(STYLENODE);}__cov_wmlF9lLOlWpDUCM9WemJFA.s['47']++;var startNode=range.startNode(),startOffset=range.startOffset(),endNode=range.endNode(),endOffset=range.endOffset();__cov_wmlF9lLOlWpDUCM9WemJFA.s['48']++;range.traverse(function(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['7']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['49']++;if(!EDOM.isTextNode(node)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['17'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['50']++;return;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['17'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['51']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['19'][0]++,endNode===node)&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['19'][1]++,endOffset!==EDOM.maxOffset(endNode))){__cov_wmlF9lLOlWpDUCM9WemJFA.b['18'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['52']++;node=EDOM.split(node,endOffset).get('previousSibling');}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['18'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['53']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['21'][0]++,startNode===node)&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['21'][1]++,startOffset)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['20'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['54']++;node=EDOM.split(node,startOffset);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['20'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['55']++;if(this._isStyleNode(node.get('parentNode'))){__cov_wmlF9lLOlWpDUCM9WemJFA.b['22'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['56']++;if(node.get('nextSibling')){__cov_wmlF9lLOlWpDUCM9WemJFA.b['23'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['57']++;EDOM.split(node.get('parentNode'),node.get('nextSibling'));}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['23'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['58']++;if(node.get('previousSibling')){__cov_wmlF9lLOlWpDUCM9WemJFA.b['24'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['59']++;EDOM.split(node.get('parentNode'),node);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['24'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['60']++;styleNodes.push(node.get('parentNode'));}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['22'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['61']++;styleNodes.push(node.wrap(styleNode).get('parentNode'));}},this);__cov_wmlF9lLOlWpDUCM9WemJFA.s['62']++;return new Y.NodeList(styleNodes);},_queryStyleCommand:function(name){__cov_wmlF9lLOlWpDUCM9WemJFA.f['8']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['63']++;var command=this.commands[name],range=this.selection.range().clone(),selector='span',values=[],value;__cov_wmlF9lLOlWpDUCM9WemJFA.s['64']++;if((__cov_wmlF9lLOlWpDUCM9WemJFA.b['26'][0]++,range)&&(__cov_wmlF9lLOlWpDUCM9WemJFA.b['26'][1]++,command.style)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['25'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['65']++;if('block'===command.type){__cov_wmlF9lLOlWpDUCM9WemJFA.b['27'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['66']++;selector=this.blockTags;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['27'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['67']++;this._getNodes(range,selector).each(function(node){__cov_wmlF9lLOlWpDUCM9WemJFA.f['9']++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['68']++;var value;__cov_wmlF9lLOlWpDUCM9WemJFA.s['69']++;if(command.style.computed){__cov_wmlF9lLOlWpDUCM9WemJFA.b['28'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['70']++;value=node.getStyle(command.style.property);}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['28'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['71']++;value=node._node.style[command.style.property];}__cov_wmlF9lLOlWpDUCM9WemJFA.s['72']++;values.push((__cov_wmlF9lLOlWpDUCM9WemJFA.b['29'][0]++,value)||(__cov_wmlF9lLOlWpDUCM9WemJFA.b['29'][1]++,''));});__cov_wmlF9lLOlWpDUCM9WemJFA.s['73']++;values=Y.Array.dedupe(values);__cov_wmlF9lLOlWpDUCM9WemJFA.s['74']++;if(1===values.length){__cov_wmlF9lLOlWpDUCM9WemJFA.b['30'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['75']++;value=values[0];}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['30'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['76']++;if(Y.Lang.isValue(command.style.value)){__cov_wmlF9lLOlWpDUCM9WemJFA.b['31'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['77']++;value=value==command.style.value;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['31'][1]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['78']++;if(''===value){__cov_wmlF9lLOlWpDUCM9WemJFA.b['32'][0]++;__cov_wmlF9lLOlWpDUCM9WemJFA.s['79']++;value=null;}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['32'][1]++;}}}else{__cov_wmlF9lLOlWpDUCM9WemJFA.b['25'][1]++;}__cov_wmlF9lLOlWpDUCM9WemJFA.s['80']++;return value;}});__cov_wmlF9lLOlWpDUCM9WemJFA.s['81']++;Y.namespace('Editor').Style=EditorStyle;}());},'@VERSION@',{'requires':['base-build','gallery-sm-editor-base','gallery-sm-editor-dom','gallery-sm-editor-keys','node-base','node-style']});
